{"version":3,"sources":["./src/app/posts/post/post.page.html","./src/app/posts/post/post-routing.module.ts","./src/app/posts/post/post.module.ts","./src/app/posts/post/post.page.scss","./src/app/posts/post/post.page.ts"],"names":[],"mappings":"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","file":"posts-post-post-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button text=\\\"\\\" defaultHref=\\\"/tabs/posts\\\" #backButton></ion-back-button>\\n    </ion-buttons>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"setPostFavorite()\\\" [disabled]=\\\"!post?.id\\\">\\n        <ion-icon slot=\\\"icon-only\\\" [name]=\\\"post?.isFavorite ? 'star' : 'star-outline'\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <!-- <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"openMenu()\\\">\\n        <ion-icon name=\\\"ellipsis-horizontal\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons> -->\\n  </ion-toolbar>\\n</ion-header>\\n \\n<ion-content class=\\\"content postContent\\\">\\n  <div *ngIf=\\\"post\\\">\\n    <img *ngIf=\\\"post.media_url || post.base64Img\\\" [src]=\\\"post.isFavorite ? post.base64Img : post.media_url\\\" [style.width]=\\\"'100%'\\\">\\n    <div style=\\\"text-align: center;\\\">\\n      <ion-button *ngIf=\\\"post && post?.audio && post?.audio !== ''\\\" (click)=\\\"play()\\\" class=\\\"playButton\\\" shape=\\\"round\\\">\\n        <ion-icon name=\\\"play\\\"></ion-icon>\\n      </ion-button>\\n    </div>\\n    <div class=\\\"text\\\">Aufrufe: {{post.views}}</div>\\n    <h3 class=\\\"title\\\">{{ post?.title.rendered }}</h3>\\n    <div class=\\\"text\\\" [innerHTML]=\\\"post.content.rendered\\\"></div>\\n  </div> \\n\\n \\n\\n  <div *ngIf=\\\"!post\\\">\\n    <h3 class=\\\"title\\\">\\n      <ion-skeleton-text animated style=\\\"width: 60%\\\"></ion-skeleton-text>\\n    </h3>\\n    <div class=\\\"text\\\" >\\n      <p>\\n        <ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 70%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 80%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 60%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 40%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 50%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 40%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 10%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 70%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 80%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 60%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 40%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 50%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 40%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 10%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 70%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 80%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 60%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 40%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 50%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 40%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 10%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 40%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 50%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 40%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 10%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 70%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 80%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 60%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 40%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 40%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 50%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 40%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 10%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 70%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 80%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 60%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 40%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text>\\n      </p>\\n    </div>\\n  </div>\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PostPage } from './post.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PostPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PostPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PostPageRoutingModule } from './post-routing.module';\n\nimport { PostPage } from './post.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PostPageRoutingModule\n  ],\n  declarations: [PostPage]\n})\nexport class PostPageModule {}\n","export default \".content img {\\n  padding: 1rem;\\n  border-radius: 7%;\\n}\\n.content .playButton {\\n  --padding-start: .8rem;\\n  --padding-end: .6rem;\\n  margin-left: 1rem;\\n}\\n.content .title {\\n  padding: 0 1rem;\\n}\\n.content .text {\\n  padding: 0 1rem;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9kMDYyODMxL0RvY3VtZW50cy9wcm9qZWN0cy9qdWdlbmQvYXBwL3NyYy9hcHAvcG9zdHMvcG9zdC9wb3N0LnBhZ2Uuc2NzcyIsInNyYy9hcHAvcG9zdHMvcG9zdC9wb3N0LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDSTtFQUNJLGFBQUE7RUFDQSxpQkFBQTtBQ0FSO0FER0k7RUFDSSxzQkFBQTtFQUNBLG9CQUFBO0VBQ0EsaUJBQUE7QUNEUjtBRElJO0VBQ0ksZUFBQTtBQ0ZSO0FES0k7RUFDSSxlQUFBO0FDSFIiLCJmaWxlIjoic3JjL2FwcC9wb3N0cy9wb3N0L3Bvc3QucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRlbnQge1xuICAgIGltZyB7XG4gICAgICAgIHBhZGRpbmc6IDFyZW07XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDclO1xuICAgIH1cblxuICAgIC5wbGF5QnV0dG9uIHtcbiAgICAgICAgLS1wYWRkaW5nLXN0YXJ0OiAuOHJlbTtcbiAgICAgICAgLS1wYWRkaW5nLWVuZDogLjZyZW07XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAxcmVtO1xuICAgIH1cblxuICAgIC50aXRsZSB7XG4gICAgICAgIHBhZGRpbmc6IDAgMXJlbTtcbiAgICB9XG5cbiAgICAudGV4dCB7XG4gICAgICAgIHBhZGRpbmc6IDAgMXJlbTtcbiAgICB9XG59IiwiLmNvbnRlbnQgaW1nIHtcbiAgcGFkZGluZzogMXJlbTtcbiAgYm9yZGVyLXJhZGl1czogNyU7XG59XG4uY29udGVudCAucGxheUJ1dHRvbiB7XG4gIC0tcGFkZGluZy1zdGFydDogLjhyZW07XG4gIC0tcGFkZGluZy1lbmQ6IC42cmVtO1xuICBtYXJnaW4tbGVmdDogMXJlbTtcbn1cbi5jb250ZW50IC50aXRsZSB7XG4gIHBhZGRpbmc6IDAgMXJlbTtcbn1cbi5jb250ZW50IC50ZXh0IHtcbiAgcGFkZGluZzogMCAxcmVtO1xufSJdfQ== */\"","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { WpService } from 'src/app/services/wp.service';\nimport { AudioService } from 'src/app/services/audio.service';\nimport { PhotoViewer } from '@ionic-native/photo-viewer/ngx';\nimport { Platform, ActionSheetController, IonButton, IonIcon, IonBackButton } from '@ionic/angular';\nimport { AppComponent } from 'src/app/app.component';\nimport { Storage } from '@ionic/storage';\nimport { Post } from 'src/app/utils/interfaces';\n@Component({\n  selector: 'app-post',\n  templateUrl: './post.page.html',\n  styleUrls: ['./post.page.scss'],\n})\nexport class PostPage implements OnInit {\n\n  @ViewChild('backButton', {static: false}) backButton: IonBackButton\n\n  public post: Post;\n  public sound: any;\n  public soundReady = false;\n  public playing = false;\n  favoritePosts: Post[] = [];\n  defaultHref = '';\n\n  constructor(\n    private activatedRoute: ActivatedRoute,\n    private router: Router,\n    private wp: WpService,\n    private audioService: AudioService,\n    private photoViewer: PhotoViewer,\n    private platform: Platform,\n    private actionSheetController: ActionSheetController,\n    private appComponent: AppComponent,\n    private storage: Storage\n  ) { }\n\n  ngOnInit() {\n    this.appComponent.getObservable().subscribe((loggedIn: boolean) => {\n      if (loggedIn) {\n        this.loadData();\n      }\n    });\n  }\n\n  async loadData() {\n    this.backButton.defaultHref = this.router['routerState'].snapshot.url.search('favorites') ? 'tabs/favorites' : 'tabs/posts';\n    const id = this.activatedRoute.snapshot.paramMap.get('id');\n    await this.storage.get('favoritePosts').then((res: any) => {\n      if(res) this.favoritePosts = JSON.parse(res);\n    });\n    let isFavorite: boolean = false;\n    if(this.favoritePosts) isFavorite = this.favoritePosts.find(post => post.id.toString() == id)? true : false;\n    \n    // if local stored favorite-post, get post information from local storage\n    if (isFavorite) {\n      const localPost: Post = this.favoritePosts.find(post => post.id.toString() == id); \n      this.post = {...localPost};\n\n      if (this.post.audio) {\n        this.audioService.loadNewAudio(this.post.audio, this.post.title.rendered);\n      }\n\n      if (this.platform.is('capacitor')) {\n\n      }\n      setTimeout(() => {\n        for (const image of Array.from(document.querySelectorAll('.postContent img'))) {\n          (image as any).onclick = () => {\n            this.photoViewer.show((image as any).src);\n          };\n        }\n      }, 100);\n    }else {\n      this.wp.getPostContent(id).then((res: any) => {\n        this.post = {\n          ...res.data,\n          media_url: res.data._embedded['wp:featuredmedia'] ?\n            res.data._embedded['wp:featuredmedia'][0].media_details.sizes.medium.source_url : undefined,\n          isFavorite: isFavorite,\n          views: res.data.views ? parseInt(res.data.views, 10) + 1 : 1\n        };\n  \n        if (this.post.audio) {\n          this.audioService.loadNewAudio(this.post.audio, this.post.title.rendered);\n        }\n  \n        if (this.platform.is('capacitor')) {\n  \n        }\n        setTimeout(() => {\n          for (const image of Array.from(document.querySelectorAll('.postContent img'))) {\n            (image as any).onclick = () => {\n              this.photoViewer.show((image as any).src);\n            };\n          }\n        }, 100);\n      });\n    }\n  }\n\n  async openMenu() {\n    const actionButtons: any[] = [{\n      text: 'Artikel im Browser aufrufen',\n      handler: () => {\n        window.open(this.post.link, '_blank');\n      }\n    }];\n\n    if (this.post.pdf) {\n      actionButtons.push({\n        text: 'Artikel als PDF anzeigen',\n        handler: () => {\n          window.open(this.post.pdf, '_blank');\n        }\n      });\n    }\n\n    actionButtons.push({\n      role: 'destructive',\n      text: 'Abbrechen'\n    });\n\n    const sheet = await this.actionSheetController.create({\n      buttons: actionButtons\n    });\n\n    await sheet.present();\n  }\n\n  play() {\n    this.audioService.playNew();\n  }\n\n  async setPostFavorite() {\n    if(!this.post.isFavorite){\n      this.post.isFavorite = true;\n      if(this.post.media_url) await this.wp.getBase64ImgFromUrl(this.post.media_url).then(res => this.post.base64Img = res); \n      this.favoritePosts.push(this.post);\n      this.storage.set('favoritePosts', JSON.stringify(this.favoritePosts));\n    } else {\n      this.post.isFavorite = false;\n      this.favoritePosts = this.favoritePosts.filter(post => post.id != this.post.id);\n      if(this.favoritePosts) this.storage.set('favoritePosts', JSON.stringify(this.favoritePosts));\n    }\n  }\n}\n"],"sourceRoot":"webpack:///"}