{"version":3,"sources":["src/app/posts/post/post.page.html","src/app/posts/post/post-routing.module.ts","src/app/posts/post/post.module.ts","src/app/posts/post/post.page.scss","src/app/posts/post/post.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button text=\\\"\\\" defaultHref=\\\"/tabs/posts\\\" #backButton></ion-back-button>\\n    </ion-buttons>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"setPostFavorite()\\\" [disabled]=\\\"!post?.id\\\">\\n        <ion-icon slot=\\\"icon-only\\\" [name]=\\\"post?.isFavorite ? 'star' : 'star-outline'\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <!-- <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"openMenu()\\\">\\n        <ion-icon name=\\\"ellipsis-horizontal\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons> -->\\n  </ion-toolbar>\\n</ion-header>\\n \\n<ion-content class=\\\"content postContent\\\">\\n  <div *ngIf=\\\"post\\\">\\n    <img *ngIf=\\\"post.media_url || post.base64Img\\\" [src]=\\\"post.isFavorite ? post.base64Img : post.media_url\\\" [style.width]=\\\"'100%'\\\">\\n    <div style=\\\"text-align: center;\\\">\\n      <ion-button *ngIf=\\\"post && post?.audio && post?.audio !== ''\\\" (click)=\\\"play()\\\" class=\\\"playButton\\\" shape=\\\"round\\\">\\n        <ion-icon name=\\\"play\\\"></ion-icon>\\n      </ion-button>\\n    </div>\\n    <div class=\\\"text\\\">Aufrufe: {{post.views}}</div>\\n    <h3 class=\\\"title\\\">{{ post?.title.rendered }}</h3>\\n    <div class=\\\"text\\\" [innerHTML]=\\\"post.content.rendered\\\"></div>\\n  </div> \\n\\n \\n\\n  <div *ngIf=\\\"!post\\\">\\n    <h3 class=\\\"title\\\">\\n      <ion-skeleton-text animated style=\\\"width: 60%\\\"></ion-skeleton-text>\\n    </h3>\\n    <div class=\\\"text\\\" >\\n      <p>\\n        <ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 70%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 80%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 60%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 40%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 50%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 40%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 10%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 70%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 80%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 60%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 40%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 50%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 40%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 10%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 70%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 80%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 60%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 40%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 50%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 40%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 10%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 40%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 50%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 40%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 10%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 70%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 80%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 60%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 40%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 40%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 50%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 40%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 10%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 70%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 80%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 60%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 40%\\\"></ion-skeleton-text>\\n        <ion-skeleton-text animated style=\\\"width: 100%\\\"></ion-skeleton-text>\\n      </p>\\n    </div>\\n  </div>\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PostPage } from './post.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PostPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PostPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PostPageRoutingModule } from './post-routing.module';\n\nimport { PostPage } from './post.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PostPageRoutingModule\n  ],\n  declarations: [PostPage]\n})\nexport class PostPageModule {}\n","export default \".content img {\\n  padding: 1rem;\\n  border-radius: 7%;\\n}\\n.content .playButton {\\n  --padding-start: .8rem;\\n  --padding-end: .6rem;\\n  margin-left: 1rem;\\n}\\n.content .title {\\n  padding: 0 1rem;\\n}\\n.content .text {\\n  padding: 0 1rem;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9kMDYyODMxL0RvY3VtZW50cy9wcm9qZWN0cy9qdWdlbmQvYXBwL3NyYy9hcHAvcG9zdHMvcG9zdC9wb3N0LnBhZ2Uuc2NzcyIsInNyYy9hcHAvcG9zdHMvcG9zdC9wb3N0LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDSTtFQUNJLGFBQUE7RUFDQSxpQkFBQTtBQ0FSO0FER0k7RUFDSSxzQkFBQTtFQUNBLG9CQUFBO0VBQ0EsaUJBQUE7QUNEUjtBRElJO0VBQ0ksZUFBQTtBQ0ZSO0FES0k7RUFDSSxlQUFBO0FDSFIiLCJmaWxlIjoic3JjL2FwcC9wb3N0cy9wb3N0L3Bvc3QucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRlbnQge1xuICAgIGltZyB7XG4gICAgICAgIHBhZGRpbmc6IDFyZW07XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDclO1xuICAgIH1cblxuICAgIC5wbGF5QnV0dG9uIHtcbiAgICAgICAgLS1wYWRkaW5nLXN0YXJ0OiAuOHJlbTtcbiAgICAgICAgLS1wYWRkaW5nLWVuZDogLjZyZW07XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAxcmVtO1xuICAgIH1cblxuICAgIC50aXRsZSB7XG4gICAgICAgIHBhZGRpbmc6IDAgMXJlbTtcbiAgICB9XG5cbiAgICAudGV4dCB7XG4gICAgICAgIHBhZGRpbmc6IDAgMXJlbTtcbiAgICB9XG59IiwiLmNvbnRlbnQgaW1nIHtcbiAgcGFkZGluZzogMXJlbTtcbiAgYm9yZGVyLXJhZGl1czogNyU7XG59XG4uY29udGVudCAucGxheUJ1dHRvbiB7XG4gIC0tcGFkZGluZy1zdGFydDogLjhyZW07XG4gIC0tcGFkZGluZy1lbmQ6IC42cmVtO1xuICBtYXJnaW4tbGVmdDogMXJlbTtcbn1cbi5jb250ZW50IC50aXRsZSB7XG4gIHBhZGRpbmc6IDAgMXJlbTtcbn1cbi5jb250ZW50IC50ZXh0IHtcbiAgcGFkZGluZzogMCAxcmVtO1xufSJdfQ== */\"","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { WpService } from 'src/app/services/wp.service';\nimport { AudioService } from 'src/app/services/audio.service';\nimport { PhotoViewer } from '@ionic-native/photo-viewer/ngx';\nimport { Platform, ActionSheetController, IonButton, IonIcon, IonBackButton } from '@ionic/angular';\nimport { AppComponent } from 'src/app/app.component';\nimport { Storage } from '@ionic/storage';\nimport { Post } from 'src/app/utils/interfaces';\n@Component({\n  selector: 'app-post',\n  templateUrl: './post.page.html',\n  styleUrls: ['./post.page.scss'],\n})\nexport class PostPage implements OnInit {\n\n  @ViewChild('backButton', {static: false}) backButton: IonBackButton\n\n  public post: Post;\n  public sound: any;\n  public soundReady = false;\n  public playing = false;\n  favoritePosts: Post[] = [];\n  defaultHref = '';\n\n  constructor(\n    private activatedRoute: ActivatedRoute,\n    private router: Router,\n    private wp: WpService,\n    private audioService: AudioService,\n    private photoViewer: PhotoViewer,\n    private platform: Platform,\n    private actionSheetController: ActionSheetController,\n    private appComponent: AppComponent,\n    private storage: Storage\n  ) { }\n\n  ngOnInit() {\n    this.appComponent.getObservable().subscribe((loggedIn: boolean) => {\n      if (loggedIn) {\n        this.loadData();\n      }\n    });\n  }\n\n  async loadData() {\n    this.backButton.defaultHref = this.router['routerState'].snapshot.url.search('favorites') ? 'tabs/favorites' : 'tabs/posts';\n    const id = this.activatedRoute.snapshot.paramMap.get('id');\n    await this.storage.get('favoritePosts').then((res: any) => {\n      if(res) this.favoritePosts = JSON.parse(res);\n    });\n    let isFavorite: boolean = false;\n    if(this.favoritePosts) isFavorite = this.favoritePosts.find(post => post.id.toString() == id)? true : false;\n    \n    // if local stored favorite-post, get post information from local storage\n    if (isFavorite) {\n      const localPost: Post = this.favoritePosts.find(post => post.id.toString() == id); \n      this.post = {...localPost};\n\n      if (this.post.audio) {\n        this.audioService.loadNewAudio(this.post.audio, this.post.title.rendered);\n      }\n\n      if (this.platform.is('capacitor')) {\n\n      }\n      setTimeout(() => {\n        for (const image of Array.from(document.querySelectorAll('.postContent img'))) {\n          (image as any).onclick = () => {\n            this.photoViewer.show((image as any).src);\n          };\n        }\n      }, 100);\n    }else {\n      this.wp.getPostContent(id).then((res: any) => {\n        this.post = {\n          ...res.data,\n          media_url: res.data._embedded['wp:featuredmedia'] ?\n            res.data._embedded['wp:featuredmedia'][0].media_details.sizes.medium.source_url : undefined,\n          isFavorite: isFavorite,\n          views: res.data.views ? parseInt(res.data.views, 10) + 1 : 1\n        };\n  \n        if (this.post.audio) {\n          this.audioService.loadNewAudio(this.post.audio, this.post.title.rendered);\n        }\n  \n        if (this.platform.is('capacitor')) {\n  \n        }\n        setTimeout(() => {\n          for (const image of Array.from(document.querySelectorAll('.postContent img'))) {\n            (image as any).onclick = () => {\n              this.photoViewer.show((image as any).src);\n            };\n          }\n        }, 100);\n      });\n    }\n  }\n\n  async openMenu() {\n    const actionButtons: any[] = [{\n      text: 'Artikel im Browser aufrufen',\n      handler: () => {\n        window.open(this.post.link, '_blank');\n      }\n    }];\n\n    if (this.post.pdf) {\n      actionButtons.push({\n        text: 'Artikel als PDF anzeigen',\n        handler: () => {\n          window.open(this.post.pdf, '_blank');\n        }\n      });\n    }\n\n    actionButtons.push({\n      role: 'destructive',\n      text: 'Abbrechen'\n    });\n\n    const sheet = await this.actionSheetController.create({\n      buttons: actionButtons\n    });\n\n    await sheet.present();\n  }\n\n  play() {\n    this.audioService.playNew();\n  }\n\n  async setPostFavorite() {\n    if(!this.post.isFavorite){\n      this.post.isFavorite = true;\n      if(this.post.media_url) await this.wp.getBase64ImgFromUrl(this.post.media_url).then(res => this.post.base64Img = res); \n      this.favoritePosts.push(this.post);\n      this.storage.set('favoritePosts', JSON.stringify(this.favoritePosts));\n    } else {\n      this.post.isFavorite = false;\n      this.favoritePosts = this.favoritePosts.filter(post => post.id != this.post.id);\n      if(this.favoritePosts) this.storage.set('favoritePosts', JSON.stringify(this.favoritePosts));\n    }\n  }\n}\n"],"sourceRoot":"webpack:///","file":"posts-post-post-module-es5.js"}